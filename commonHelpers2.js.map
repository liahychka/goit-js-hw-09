{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-msg';\n\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\nconst input = form.querySelector('input');\nconst textarea2 = document.querySelector('textarea');\n\n\nform.addEventListener('input', () => {\n    const formData = new FormData(form);\n    const email = formData.get('email');\n    const message = formData.get('message');\n    const data = { email, message }; \n\n    saveToLS('email', email);\n    saveToLS('message', message);\n    saveToLS('userData', data);\n}); \n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n    const json = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(json);\n        return data;\n    } catch {\n        return json;\n    }\n}  \n\nfunction validateForm() {\n    if (textarea2.value === '' || input.value === '' ) {\n        return false;\n    } else {\n        return true;\n    }\n    \n}\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const formData = new FormData(form);\n    const email = formData.get('email');\n    const message = formData.get('message');\n    const data = { email, message }; \n\n    console.log(data);\n\n    form.reset();\n    localStorage.removeItem('email');\n    localStorage.removeItem('message');\n    localStorage.removeItem('userData');\n\n    if (!validateForm()) {\n        e.preventDefault();\n    }\n});\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const email = loadFromLS('email');\n    const message = loadFromLS('message');\n\n    form.elements.email.value = email;\n    form.elements.message.value = message;\n});"],"names":["form","input","textarea2","formData","email","message","data","saveToLS","key","value","jsonData","loadFromLS","json","validateForm","e"],"mappings":"oDAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,UAAU,EAC9C,MAAMC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAY,SAAS,cAAc,UAAU,EAGnDF,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMG,EAAW,IAAI,SAASH,CAAI,EAC5BI,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAChCG,EAAO,CAAE,MAAAF,EAAO,QAAAC,GAEtBE,EAAS,QAASH,CAAK,EACvBG,EAAS,UAAWF,CAAO,EAC3BE,EAAS,WAAYD,CAAI,CAC7B,CAAC,EAED,SAASC,EAASC,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASC,EAAWH,EAAK,CACrB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMI,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL,CAEA,SAASC,GAAe,CACpB,MAAI,EAAAX,EAAU,QAAU,IAAMD,EAAM,QAAU,GAMlD,CAEAD,EAAK,iBAAiB,SAAWc,GAAM,CACnCA,EAAE,eAAc,EAChB,MAAMX,EAAW,IAAI,SAASH,CAAI,EAC5BI,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAGtC,QAAQ,IAFK,CAAE,MAAAC,EAAO,QAAAC,EAEN,EAEhBL,EAAK,MAAK,EACV,aAAa,WAAW,OAAO,EAC/B,aAAa,WAAW,SAAS,EACjC,aAAa,WAAW,UAAU,EAE7Ba,EAAY,GACbC,EAAE,eAAc,CAExB,CAAC,EAED,OAAO,iBAAiB,mBAAoB,IAAM,CAC9C,MAAMV,EAAQO,EAAW,OAAO,EAC1BN,EAAUM,EAAW,SAAS,EAEpCX,EAAK,SAAS,MAAM,MAAQI,EAC5BJ,EAAK,SAAS,QAAQ,MAAQK,CAClC,CAAC"}