{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\nconst input = form.querySelector('input');\nconst textarea2 = document.querySelector('textarea');\n\nform.addEventListener('input', () => {\n    const formData = new FormData(form);\n    const email = formData.get('email');\n    const message = formData.get('message');\n    const data = { email, message }; \n\n    saveToLS(STORAGE_KEY, data);\n}); \n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n    const json = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(json);\n        return data;\n    } catch {\n        return json;\n    }\n}  \n\nfunction validateForm() {\n    if (textarea2.value === '' || input.value === '') {\n        return false;\n    } else {\n        return true;\n    }\n}\n\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const formData = new FormData(form);\n    const email = formData.get('email');\n    const message = formData.get('message');\n    const data = { email, message }; \n\n    console.log(data);\n\n    form.reset();\n    localStorage.removeItem('feedback-form-state');\n\n       if (!validateForm()) {\n        e.preventDefault();\n    }\n\n});\n\nwindow.addEventListener('DOMContentLoaded', () => {\n const data = loadFromLS(STORAGE_KEY);\n    if (data) {\n        form.elements.email.value = data.email;\n        form.elements.message.value = data.message;\n    }\n});"],"names":["STORAGE_KEY","form","input","textarea2","formData","email","message","saveToLS","key","value","jsonData","loadFromLS","json","validateForm","data"],"mappings":"oDAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,UAAU,EAC9C,MAAMC,EAAQD,EAAK,cAAc,OAAO,EAClCE,EAAY,SAAS,cAAc,UAAU,EAEnDF,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMG,EAAW,IAAI,SAASH,CAAI,EAC5BI,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAGtCG,EAASP,EAFI,CAAE,MAAAK,EAAO,QAAAC,EAEI,CAC9B,CAAC,EAED,SAASC,EAASC,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASC,EAAWH,EAAK,CACrB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMI,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL,CAEA,SAASC,GAAe,CACpB,MAAI,EAAAV,EAAU,QAAU,IAAMD,EAAM,QAAU,GAKlD,CAEAD,EAAK,iBAAiB,SAAW,GAAM,CACnC,EAAE,eAAc,EAChB,MAAMG,EAAW,IAAI,SAASH,CAAI,EAC5BI,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAGtC,QAAQ,IAFK,CAAE,MAAAC,EAAO,QAAAC,EAEN,EAEhBL,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,EAErCY,EAAY,GAChB,EAAE,eAAc,CAGxB,CAAC,EAED,OAAO,iBAAiB,mBAAoB,IAAM,CACjD,MAAMC,EAAOH,EAAWX,CAAW,EAC5Bc,IACAb,EAAK,SAAS,MAAM,MAAQa,EAAK,MACjCb,EAAK,SAAS,QAAQ,MAAQa,EAAK,QAE3C,CAAC"}